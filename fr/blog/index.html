<!doctype html>
<html lang="fr" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Blog | Trevas</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://trevas.info/Trevas/fr/blog"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="no"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" property="og:title" content="Blog | Trevas"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/Trevas/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://trevas.info/Trevas/fr/blog"><link data-rh="true" rel="alternate" href="https://trevas.info/Trevas/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://trevas.info/Trevas/fr/blog" hreflang="fr"><link data-rh="true" rel="alternate" href="https://trevas.info/Trevas/zh-CN/blog" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://trevas.info/Trevas/no/blog" hreflang="no"><link data-rh="true" rel="alternate" href="https://trevas.info/Trevas/blog" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://trevas.info/Trevas/fr/blog","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-vtl-21","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-vtl-21","url":"https://trevas.info/Trevas/fr/blog/trevas-vtl-21","headline":"Trevas - VTL 2.1","name":"Trevas - VTL 2.1","description":"Trevas 1.7.0 met à niveau VTL en version 2.1.","datePublished":"2024-10-09T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-provenance","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-provenance","url":"https://trevas.info/Trevas/fr/blog/trevas-provenance","headline":"Trevas - Provenance","name":"Trevas - Provenance","description":"Nouveautés","datePublished":"2024-10-07T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-sdmx","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-sdmx","url":"https://trevas.info/Trevas/fr/blog/trevas-sdmx","headline":"Trevas - SDMX","name":"Trevas - SDMX","description":"Nouveautés","datePublished":"2024-06-25T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-temporal-operators","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-temporal-operators","url":"https://trevas.info/Trevas/fr/blog/trevas-temporal-operators","headline":"Trevas - Opérateurs temporels","name":"Trevas - Opérateurs temporels","description":"Opérateurs temporels de Trevas","datePublished":"2024-06-21T00:00:00.000Z","author":{"@type":"Person","name":"Hadrien Kohl","description":"Hadrien Kohl Consulting - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-java-17","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-java-17","url":"https://trevas.info/Trevas/fr/blog/trevas-java-17","headline":"Trevas - Java 17","name":"Trevas - Java 17","description":"Nouveautés","datePublished":"2023-11-22T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-persistent-assignment","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-persistent-assignment","url":"https://trevas.info/Trevas/fr/blog/trevas-persistent-assignment","headline":"Trevas - Assignements persistants","name":"Trevas - Assignements persistants","description":"Nouveautés","datePublished":"2023-11-22T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-check_hierarchy","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-check_hierarchy","url":"https://trevas.info/Trevas/fr/blog/trevas-check_hierarchy","headline":"Trevas - check_hierarchy","name":"Trevas - check_hierarchy","description":"Nouveautés","datePublished":"2023-09-01T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-batch-0.1.1","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-batch-0.1.1","url":"https://trevas.info/Trevas/fr/blog/trevas-batch-0.1.1","headline":"Trevas Batch 0.1.1","name":"Trevas Batch 0.1.1","description":"Trevas Batch 0.1.1 utilise la version 1.0.2 de Trevas.","datePublished":"2023-07-02T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-jupyter-0.3.2","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-jupyter-0.3.2","url":"https://trevas.info/Trevas/fr/blog/trevas-jupyter-0.3.2","headline":"Trevas Jupyter 0.3.2","name":"Trevas Jupyter 0.3.2","description":"Trevas Jupyter 0.3.2 utilise la version 1.0.2 de Trevas.","datePublished":"2023-07-01T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]},{"@type":"BlogPosting","@id":"https://trevas.info/Trevas/fr/blog/trevas-lab-0.3.3","mainEntityOfPage":"https://trevas.info/Trevas/fr/blog/trevas-lab-0.3.3","url":"https://trevas.info/Trevas/fr/blog/trevas-lab-0.3.3","headline":"Trevas Lab 0.3.3","name":"Trevas Lab 0.3.3","description":"Trevas Lab 0.3.3 utilise la version 1.0.2 de Trevas.","datePublished":"2023-07-01T00:00:00.000Z","author":{"@type":"Person","name":"Nicolas Laval","description":"Making Sense - Developer"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/Trevas/fr/blog/rss.xml" title="Trevas RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Trevas/fr/blog/atom.xml" title="Trevas Atom Feed">





<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var s=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id=insee",s.parentNode.insertBefore(g,s)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/Trevas/fr/assets/css/styles.b0e1767d.css">
<script src="/Trevas/fr/assets/js/runtime~main.b5bcacd9.js" defer="defer"></script>
<script src="/Trevas/fr/assets/js/main.3d694c88.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=insee" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Trevas/fr/"><div class="navbar__logo"><img src="/Trevas/fr/img/logo_trevas_short_dark.png" alt="Trevas logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Trevas/fr/img/logo_trevas_short_dark.png" alt="Trevas logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Chargement ..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><a class="navbar__item navbar__link" href="/Trevas/fr/introduction">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Trevas/fr/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/Trevas/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/Trevas/fr/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/Trevas/zh-CN/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文（中国）</a></li><li><a href="/Trevas/no/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="no">Norsk</a></li></ul></div><a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode sombre)" aria-label="Basculer entre le mode sombre et clair (actuellement mode sombre)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navigation article de blog récent"><div class="sidebarItemTitle_pO2u margin-bottom--md">Articles récents</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Trevas/fr/blog/trevas-vtl-21">Trevas - VTL 2.1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Trevas/fr/blog/trevas-provenance">Trevas - Provenance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Trevas/fr/blog/trevas-sdmx">Trevas - SDMX</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Trevas/fr/blog/trevas-temporal-operators">Trevas - Opérateurs temporels</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Trevas/fr/blog/trevas-java-17">Trevas - Java 17</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-vtl-21">Trevas - VTL 2.1</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-10-09T00:00:00.000Z">9 octobre 2024</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Trevas 1.7.0 met à niveau VTL en version 2.1.</p>
<p>Cette version introduit deux nouveaux opérateurs :</p>
<ul>
<li><code>random</code></li>
<li><code>case</code></li>
</ul>
<p><code>random</code> produit un nombre décimal entre 0 et 1.</p>
<p><code>case</code> permet de définir des déclarations multiconditionnelles plus claires, par exemple:</p>
<p><code>ds2 := ds1[ calc c := case when r &lt; 0.2 then &quot;Low&quot; when r &gt; 0.8 then &quot;High&quot; else &quot;Medium&quot; ]</code></p>
<p>Les deux opérateurs sont déjà disponibles dans Trevas !</p>
<p>La nouvelle grammaire fournit également des opérateurs temporels et inclut des corrections, sans aucun changement radical par rapport à la version 2.0.</p>
<p>Voir la section <a href="/Trevas/fr/user-guide/coverage">coverage</a> pour plus de détails.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/vtl-2-1">VTL 2.1</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-provenance">Trevas - Provenance</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-10-07T00:00:00.000Z">7 octobre 2024</time> · <!-- -->4 minutes de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Trevas 1.6.0 introduit le module VTL Prov.</p>
<p>Ce module permet de produire des métadonnées de lineage à partir de Trevas, basées sur les ontologies RDF : <code>PROV-O</code> et <code>SDTH</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aperçu-du-modèle-sdth">Aperçu du modèle SDTH<a href="#aperçu-du-modèle-sdth" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<!-- -->
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="modèle-adopté">Modèle adopté<a href="#modèle-adopté" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Le module <code>vtl-prov</code>, version 1.6.0, utilise le modèle partiel suivant :</p>
<!-- -->
<p>Des améliorations arriveront dans les prochaines semaines.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="outils-disponibles">Outils disponibles<a href="#outils-disponibles" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Les outils de provenance Trevas sont documentés <a href="/Trevas/fr/developer-guide/spark-mode/data-sources/sdmx">ici</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemple">Exemple<a href="#exemple" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="cas-dutilisation-métier">Cas d&#x27;utilisation métier<a href="#cas-dutilisation-métier" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h5>
<p>Deux jeux de données sources sont transformés pour produire des jeux de données transitoires et un jeu de données final permanent.</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entrées">Entrées<a href="#entrées" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p><code>ds1</code> &amp; <code>ds2</code> métadonnées:</p>
<table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">var1</th><th style="text-align:center">var2</th></tr></thead><tbody><tr><td style="text-align:center">STRING</td><td style="text-align:center">INTEGER</td><td style="text-align:center">NUMBER</td></tr><tr><td style="text-align:center">IDENTIFIER</td><td style="text-align:center">MEASURE</td><td style="text-align:center">MEASURE</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="script-vtl">Script VTL<a href="#script-vtl" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<div class="language-vtl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vtl codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_sum := ds1 + ds2;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_mul := ds_sum * 3;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_res &lt;- ds_mul[filter mod(var1, 2) = 0][calc var_sum := var1 + var2];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modèle-rdf-cible">Modèle RDF cible<a href="#modèle-rdf-cible" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<div class="language-ttl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ttl codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PREFIX prov: &lt;http://www.w3.org/ns/prov#&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PREFIX sdth: &lt;http://rdf-vocabulary.ddialliance.org/sdth#&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># --- Program and steps</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/program1&gt; a sdth:Program ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    a prov:Agent ; # Agent? Or an activity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;My program 1&quot;@en, &quot;Mon programme 1&quot;@fr ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasProgramStep &lt;http://example.com/program1/program-step1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &lt;http://example.com/program1/program-step2&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &lt;http://example.com/program1/program-step3&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/program1/program-step1&gt; a sdth:ProgramStep ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;Program step 1&quot;@en, &quot;Étape 1&quot;@fr ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasSourceCode &quot;ds_sum := ds1 + ds2;&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:consumesDataframe  &lt;http://example.com/dataset/ds1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            &lt;http://example.com/dataset/ds2&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:producesDataframe &lt;http://example.com/dataset/ds_sum&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/program1/program-step2&gt; a sdth:ProgramStep ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;Program step 2&quot;@en, &quot;Étape 2&quot;@fr ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasSourceCode &quot;ds_mul := ds_sum * 3;&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:consumesDataframe &lt;http://example.com/dataset/ds_sum&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:producesDataframe &lt;http://example.com/dataset/ds_mul&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/program1/program-step3&gt; a sdth:ProgramStep ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;Program step 3&quot;@en, &quot;Étape 3&quot;@fr ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasSourceCode &quot;ds_res &lt;- ds_mul[filter mod(var1, 2) = 0][calc var_sum := var1 + var2];&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:consumesDataframe &lt;http://example.com/dataset/ds_mul&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:producesDataframe &lt;http://example.com/dataset/ds_res&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:usesVariable   &lt;http://example.com/variable/var1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &lt;http://example.com/variable/var2&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:assignsVariable &lt;http://example.com/variable/var_sum&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># --- Variables</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># i think here it&#x27;s not instances but names we refer to...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/variable/id1&gt; a sdth:VariableInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                  rdfs:label &quot;id1&quot; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/variable/var1&gt; a sdth:VariableInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                  rdfs:label &quot;var1&quot; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/variable/var2&gt; a sdth:VariableInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                  rdfs:label &quot;var2&quot; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/variable/var_sum&gt; a sdth:VariableInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                  rdfs:label &quot;var_sum&quot; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># --- Data frames</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/dataset/ds1&gt; a sdth:DataframeInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;ds1&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasName &quot;ds1&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasVariableInstance    &lt;http://example.com/variable/id1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var2&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/dataset/ds2&gt; a sdth:DataframeInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;ds2&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasName &quot;ds2&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasVariableInstance    &lt;http://example.com/variable/id1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var2&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/dataset/ds_sum&gt; a sdth:DataframeInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;ds_sum&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasName &quot;ds_sum&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:wasDerivedFrom &lt;http://example.com/dataset/ds1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        &lt;http://example.com/dataset/ds2&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasVariableInstance    &lt;http://example.com/variable/id1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var2&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/dataset/ds_mul&gt; a sdth:DataframeInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;ds_mul&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasName &quot;ds_mul&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:wasDerivedFrom &lt;http://example.com/dataset/ds_sum&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasVariableInstance    &lt;http://example.com/variable/id1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var2&gt; .</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;http://example.com/dataset/ds_res&gt; a sdth:DataframeInstance ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rdfs:label &quot;ds_res&quot; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:wasDerivedFrom &lt;http://example.com/dataset/ds_mul&gt; ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sdth:hasVariableInstance    &lt;http://example.com/variable/id1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var1&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var2&gt;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                &lt;http://example.com/variable/var_sum&gt; .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/provenance">provenance</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/sdth">SDTH</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-sdmx">Trevas - SDMX</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-06-25T00:00:00.000Z">25 juin 2024</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Trevas 1.4.0 introduit le module VTL SDMX.</p>
<p>Ce module permet de consommer des sources de métadonnées SDMX pour instancier les structures de données et les ensembles de données Trevas.</p>
<p>Il permet également d&#x27;exécuter les VTL TransformationSchemes pour obtenir les ensembles de données persistants résultants.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aperçu">Aperçu<a href="#aperçu" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div style="text-align:center"><img src="/Trevas/fr/img/vtl-sdmx-light.svg" alt="Diagramme VTL SDMX" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Trevas/fr/img/vtl-sdmx-dark.svg" alt="Diagramme VTL SDMX" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div>
<p>Trevas prend en charge les éléments de message SDMX ci-dessus. Seul l&#x27;élément VtlMappingSchemes est facultatif.</p>
<p>Les éléments de la case 1 sont utilisés pour produire des Trevas DataStructures, en valorisant les attributs des composants VTL : name, role, type, nullable et valuedomain.</p>
<p>Les éléments de la case 2 sont utilisés pour générer le code VTL (ensembles de règles et transformations).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="utilitaires-disponibles">Utilitaires disponibles<a href="#utilitaires-disponibles" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Les utilitaires de Trevas SDMX sont documentés <a href="/Trevas/fr/developer-guide/spark-mode/data-sources/sdmx">ici</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dépannage">Dépannage<a href="#dépannage" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Voir <a href="/Trevas/fr/developer-guide/spark-mode/data-sources/sdmx#dépannage">cette section</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/sdmx">SDMX</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-temporal-operators">Trevas - Opérateurs temporels</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-06-21T00:00:00.000Z">21 juin 2024</time> · <!-- -->4 minutes de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Hadrien Kohl</span></div><small class="authorTitle_nd0D" title="Hadrien Kohl Consulting - Developer">Hadrien Kohl Consulting - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opérateurs-temporels-de-trevas">Opérateurs temporels de Trevas<a href="#opérateurs-temporels-de-trevas" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La version 1.4.0 de Trevas introduit un support préliminaire pour les types de date et d&#x27;heure
et les opérateurs.</p>
<p>La spécification décrit les types temporels tels que <code>date</code>, <code>time_period</code>, <code>time</code> et <code>duration</code>. Cependant, les auteurs de Trevas trouvent
ces descriptions peu satisfaisantes. Cet article de blog décrit nos choix de mise en œuvre et en quoi ils diffèrent des spécifications.</p>
<p>Dans la spécification, <code>time_period</code> (et les types <code>date</code>) est décrit comme un type composé avec un début et une fin (ou un
début et une durée). Cela complique la mise en œuvre et apporte peu de valeur au langage car on peut simplement
fonctionner directement sur une combinaison de dates ou de date et de durée. Pour cette raison, nous avons défini une algèbre entre les
types temporels et n&#x27;avons pas encore implémenté le type <code>time_period</code>.</p>
<table><thead><tr><th>résultat (opérateurs)</th><th>date</th><th>durée</th><th>nombre</th></tr></thead><tbody><tr><td><strong>date</strong></td><td>n/a</td><td>date (+, -)</td><td>n/a</td></tr><tr><td><strong>durée</strong></td><td>date (+, -)</td><td>durée (+, -)</td><td>durée (*)</td></tr><tr><td><strong>numéro</strong></td><td>n/a</td><td>durée (*)</td><td>n/a</td></tr></tbody></table>
<p>La fonction <code>period_indicator</code> s&#x27;appuie sur la connaissance des périodes pour les types qui ne sont pas suffisamment définis pour le moment pour
être implémentés.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="représentation-java">Représentation Java<a href="#représentation-java" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Le type VTL <code>date</code> est représenté en interne comme le
type <a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/Instant.html" target="_blank" rel="noopener noreferrer"><code>java.time.Instant</code></a>,
<a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/ZonedDateTime.html" target="_blank" rel="noopener noreferrer"><code>java.time.ZonedDateTime</code></a>
et [<code>java.time.OffsetDateTime</code>](<a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/OffsetDateTime.html#" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/OffsetDateTime.html#</a>: ~<!-- -->:text<!-- -->=OffsetDateTime%20is%20an%20immutable%20representation,be%20stored%20in%20an%20OffsetDateTime%20.)</p>
<p>Instant représente un moment précis dans le temps. Notez que ce type n&#x27;inclut pas les informations de fuseau horaire et est donc
non utilisable avec tous les opérateurs. On peut utiliser les types <code>ZonedDateTime</code> et <code>OffsetDateTime</code> lorsque la sauvegarde du fuseau horaire est nécessaire.</p>
<p>Le type de VTL <code>durée</code> est représenté en interne comme le
type <a href="https://www.troisten.org/troisten-extra/apidocs/org.troisten.extra/org/troisten/extra/PeriodDuration.html" target="_blank" rel="noopener noreferrer"><code>org.troisten.extra.PeriodDuration</code></a>
du package <a href="https://www.troisten.org/troisten-extra/" target="_blank" rel="noopener noreferrer">threeten extra</a>.
Il représente une durée utilisant à la fois des unités calendaires (années, mois, jours) et une durée temporelle (heures, minutes, secondes et nanosecondes).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fonction-flow_to_stock">Fonction <code>flow_to_stock</code><a href="#fonction-flow_to_stock" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>La fonction <code>flow_to_stock</code> convertit un ensemble de données avec interprétation par flux en une interprétation par stock. Cette transformation
est utile lorsque vous souhaitez agréger des données de flux (par exemple, taux de ventes ou de production) en données de stock cumulées (par exemple, inventaire total).</p>
<p><strong>Syntaxe:</strong></p>
<p><code>résultat:= flow_to_stock(op)</code></p>
<p><strong>Paramètres:</strong></p>
<ul>
<li><code>op</code> - L&#x27;ensemble de données d&#x27;entrée avec interprétation du flux. L&#x27;ensemble de données doit avoir un identifiant de type <code>time</code>, des identifiants additionels, et au moins une mesure de type <code>number</code>.</li>
</ul>
<p><strong>Résultat:</strong></p>
<p>La fonction renvoie un ensemble de données avec la même structure que celui en entrée, mais avec les valeurs converties en stock.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fonction-stock_to_flow">Fonction <code>stock_to_flow</code><a href="#fonction-stock_to_flow" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>La fonction <code>stock_to_flow</code> convertit un ensemble de données avec interprétation de stock en une interprétation de flux. Ce
La transformation est utile lorsque vous souhaitez dériver des données de flux à partir de données de stock cumulées.</p>
<p><strong>Syntaxe:</strong></p>
<p><code>résultat:= stock_to_flow(op)</code></p>
<p><strong>Paramètres:</strong></p>
<ul>
<li><code>op</code> - L&#x27;ensemble de données d&#x27;entrée avec interprétation par stock. L&#x27;ensemble de données doit avoir un identifiant de type <code>time</code>, des identifiants additionels, et au moins une mesure de type <code>number</code>.</li>
</ul>
<p><strong>Résultat:</strong></p>
<p>La fonction renvoie un ensemble de données avec la même structure que celui en entrée, mais avec les valeurs converties en flux.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fonction-timeshift">Fonction <code>timeshift</code><a href="#fonction-timeshift" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>La fonction <code>timeshift</code> décale la composante temporelle d&#x27;une plage de temps spécifiée dans l&#x27;ensemble de données. Ceci est utile pour
analyser des données à différents décalages temporels, par exemple en comparant les valeurs actuelles aux valeurs passées.</p>
<p><strong>Syntaxe:</strong></p>
<p><code>résultat := timeshift(op, shiftNumber)</code></p>
<p><strong>Paramètres:</strong></p>
<ul>
<li><code>op</code> - Ensemble de données contenant des séries chronologiques.</li>
<li><code>shiftNumber</code> - Un entier représentant le nombre de périodes à décaler. Les valeurs positives évoluent dans le temps, tandis que
les valeurs négatives reculent.</li>
</ul>
<p><strong>Résultat:</strong></p>
<p>La fonction renvoie un ensemble de données avec les identifiants temporels décalés du nombre de périodes spécifiées.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-java-17">Trevas - Java 17</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-22T00:00:00.000Z">22 novembre 2023</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Trevas 1.2.0 permet le support de Java 17.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-des-modules-java">Gestion des modules Java<a href="#gestion-des-modules-java" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Spark ne supporte pas les modules Java.</p>
<p>Les applications clientes en Java 17 embarquant Trevas doivent configurer les <code>UNNAMED</code> modules pour Spark.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="maven">Maven<a href="#maven" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Ajouter à votre fichier <code>pom.xml</code>, dans la section <code>build &gt; plugins</code> :</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">maven-compiler-plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">3.11.0</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">compilerArgs</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">--add-exports</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">java.base/sun.nio.ch=ALL-UNNAMED</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">compilerArgs</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ENTRYPOINT [&quot;java&quot;, &quot;--add-exports&quot;, &quot;java.base/sun.nio.ch=ALL-UNNAMED&quot;, &quot;mainClass&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-persistent-assignment">Trevas - Assignements persistants</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-22T00:00:00.000Z">22 novembre 2023</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Trevas 1.2.0 inclut le support des assignements persistants : <code>ds1 &lt;- ds;</code>.</p>
<p>Dans Trevas, les datatsets persistants sont représentés par <code>PersistentDataset</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gérer-persistentdataset">Gérer <code>PersistentDataset</code><a href="#gérer-persistentdataset" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>Les datasets Trevas sont représentés par <code>Dataset</code>.</p>
<p>Après avoir executé le moteur Trevas, vous pouvez utiliser les datasets persistants comme suit :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bindings engineBindings = engine.getContext().getBindings(ScriptContext.ENGINE_SCOPE);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">engineBindings.forEach((k, v) -&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (v instanceof PersistentDataset) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        fr.insee.vtl.model.Dataset ds = ((PersistentDataset) v).getDelegate();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (ds instanceof SparkDataset) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Dataset&lt;Row&gt; sparkDs = ((SparkDataset) ds).getSparkDataset();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // Do what you want with sparkDs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-check_hierarchy">Trevas - check_hierarchy</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-01T00:00:00.000Z">1 septembre 2023</time> · <!-- -->2 minutes de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>La validation hiérarchique est implémentée dans Trevas 1.1.0, via les opérateurs <code>define hierarchical ruleset</code> et <code>check_hierarchy</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple">Exemple<a href="#exemple" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="données-en-entrée">Données en entrée<a href="#données-en-entrée" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p><code>ds1</code>:</p>
<table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">Me</th></tr></thead><tbody><tr><td style="text-align:center">ABC</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">B</td><td style="text-align:center">10</td></tr><tr><td style="text-align:center">C</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">DEF</td><td style="text-align:center">100</td></tr><tr><td style="text-align:center">E</td><td style="text-align:center">99</td></tr><tr><td style="text-align:center">F</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">HIJ</td><td style="text-align:center">100</td></tr><tr><td style="text-align:center">H</td><td style="text-align:center">99</td></tr><tr><td style="text-align:center">I</td><td style="text-align:center">0</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="script-vtl">Script VTL<a href="#script-vtl" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Ensure ds1 metadata definition is good</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds1 := ds1[calc identifier id := id, Me := cast(Me, integer)];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Define hierarchical ruleset</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">define hierarchical ruleset hr (variable rule Me) is</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    My_Rule : ABC = A + B + C errorcode &quot;ABC is not sum of A,B,C&quot; errorlevel 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DEF = D + E + F errorcode &quot;DEF is not sum of D,E,F&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    HIJ : HIJ = H + I - J errorcode &quot;HIJ is not H + I - J&quot; errorlevel 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end hierarchical ruleset;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Check hierarchy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_all := check_hierarchy(ds1, hr rule id all);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_all_measures := check_hierarchy(ds1, hr rule id always_null all_measures);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_invalid := check_hierarchy(ds1, hr rule id always_zero invalid);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="données-en-sortie">Données en sortie<a href="#données-en-sortie" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<ul>
<li><code>ds_all</code></li>
</ul>
<table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">ruleid</th><th style="text-align:center">bool_var</th><th style="text-align:center">errorcode</th><th style="text-align:center">errorlevel</th><th style="text-align:center">imbalance</th></tr></thead><tbody><tr><td style="text-align:center">ABC</td><td style="text-align:center">My_Rule</td><td style="text-align:center">true</td><td style="text-align:center">null</td><td style="text-align:center">null</td><td style="text-align:center">0</td></tr></tbody></table>
<ul>
<li><code>ds_always_null_all_measures</code></li>
</ul>
<table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">Me</th><th style="text-align:center">ruleid</th><th style="text-align:center">bool_var</th><th style="text-align:center">errorcode</th><th style="text-align:center">errorlevel</th><th style="text-align:center">imbalance</th></tr></thead><tbody><tr><td style="text-align:center">ABC</td><td style="text-align:center">12</td><td style="text-align:center">My_Rule</td><td style="text-align:center">true</td><td style="text-align:center">null</td><td style="text-align:center">null</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">DEF</td><td style="text-align:center">100</td><td style="text-align:center">hr_2</td><td style="text-align:center">null</td><td style="text-align:center">null</td><td style="text-align:center">null</td><td style="text-align:center">null</td></tr><tr><td style="text-align:center">HIJ</td><td style="text-align:center">100</td><td style="text-align:center">HIJ</td><td style="text-align:center">null</td><td style="text-align:center">null</td><td style="text-align:center">null</td><td style="text-align:center">null</td></tr></tbody></table>
<ul>
<li><code>ds_invalid</code></li>
</ul>
<table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">Me</th><th style="text-align:center">ruleid</th><th style="text-align:center">errorcode</th><th style="text-align:center">errorlevel</th><th style="text-align:center">imbalance</th></tr></thead><tbody><tr><td style="text-align:center">HIJ</td><td style="text-align:center">100</td><td style="text-align:center">HIJ</td><td style="text-align:center">HIJ is not H + I - J</td><td style="text-align:center">10</td><td style="text-align:center">1</td></tr></tbody></table></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas">Trevas</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-batch-0.1.1">Trevas Batch 0.1.1</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-02T00:00:00.000Z">2 juillet 2023</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="https://github.com/Making-Sense-Info/Trevas-Batch" target="_blank" rel="noopener noreferrer">Trevas Batch</a> <code>0.1.1</code> utilise la version <code>1.0.2</code> de <a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer">Trevas</a>.</p>
<p>Ce batch Java permet d&#x27;obtenir des métriques d&#x27;exécutions Trevas en mode Spark.</p>
<p>Le fichier de configuration à renseigner est décrit de le <a href="https://github.com/Making-Sense-Info/Trevas-Batch/tree/main#readme" target="_blank" rel="noopener noreferrer">README</a> du projet.
Le lancement du batch produiera un fichier Markdown en sortie.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lancement">Lancement<a href="#lancement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="local">Local<a href="#local" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">java </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">jar trevas</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">batch</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">0.1</span><span class="token number" style="color:rgb(247, 140, 108)">.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jar </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token class-name" style="color:rgb(255, 203, 107)">Dconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;...&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token class-name" style="color:rgb(255, 203, 107)">Dreport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;...&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>L&#x27;exécution java se fera en Spark local.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Des objets Kubernetes par défaut sont définis dans le dossier <a href="https://github.com/Making-Sense-Info/Trevas-Batch/tree/main/.kubernetes" target="_blank" rel="noopener noreferrer">.kubernetes</a>.</p>
<p>Alimenter le fichier <code>config-map.yml</code> puis lancer le job dans votre cluster.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas-batch">Trevas Batch</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-jupyter-0.3.2">Trevas Jupyter 0.3.2</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-01T00:00:00.000Z">1 juillet 2023</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="https://github.com/InseeFrLab/Trevas-Jupyter" target="_blank" rel="noopener noreferrer">Trevas Jupyter</a> <code>0.3.2</code> utilise la version <code>1.0.2</code> de <a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer">Trevas</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>En supplément de la <a href="/Trevas/fr/user-guide/coverage">couverture VTL</a> largement augmentée depuis la publication de Trevas 1.x.x, Trevas Jupyter propose 1 nouveau connecteur :</p>
<ul>
<li>fichiers SAS (via la méthode <code>loadSas</code>)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lancement">Lancement<a href="#lancement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ajout-manuel-du-kernel-trevas-à-une-instance-jupyter-existante">Ajout manuel du Kernel Trevas à une instance Jupyter existante<a href="#ajout-manuel-du-kernel-trevas-à-une-instance-jupyter-existante" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<ul>
<li>Compiler Trevas Jupyter</li>
<li>Copier le fichier <code>kernel.json</code> et les dossiers <code>bin</code> et <code>repo</code> dans un nouveau dossier de kernel.</li>
<li>Editer le fichier <code>kernel.json</code></li>
<li>Lancer Jupyter</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker pull inseefrlab/trevas-jupyter:0.3.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -p 8888:8888 inseefrlab/trevas-jupyter:0.3.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="helm">Helm<a href="#helm" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>L&#x27;image docker de Trevas Jupyter peut être instanciée via le contrat Helm <code>jupyter-pyspark</code> de <a href="https://github.com/InseeFrLab/helm-charts-interactive-services/tree/main" target="_blank" rel="noopener noreferrer">InseeFrLab</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas-jupyter">Trevas Jupyter</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/Trevas/fr/blog/trevas-lab-0.3.3">Trevas Lab 0.3.3</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-01T00:00:00.000Z">1 juillet 2023</time> · <!-- -->Une minute de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Nicolas Laval</span></div><small class="authorTitle_nd0D" title="Making Sense - Developer">Making Sense - Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p><a href="https://github.com/InseeFrLab/Trevas-Lab" target="_blank" rel="noopener noreferrer">Trevas Lab</a> <code>0.3.3</code> utilise la version <code>1.0.2</code> de <a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer">Trevas</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<p>En supplément de la <a href="/Trevas/fr/user-guide/coverage">couverture VTL</a> largement augmentée depuis la publication de Trevas 1.x.x, Trevas Lab propose 2 nouveaux connecteurs :</p>
<ul>
<li>fichiers SAS</li>
<li>JDBC MariaDB</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lancement">Lancement<a href="#lancement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4>
<p>Des exemples d&#x27;objet Kubernetes sont disponibles dans les dossiers <code>.kubernetes</code> de <a href="https://github.com/InseeFrLab/Trevas-Lab/tree/master/.kubernetes" target="_blank" rel="noopener noreferrer">Trevas Lab</a> et <a href="https://github.com/InseeFrLab/Trevas-Lab-UI/tree/master/.kubernetes" target="_blank" rel="noopener noreferrer">Trevas Lab UI</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags :</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Trevas/fr/blog/tags/trevas-lab">Trevas Lab</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Pagination de la liste des articles du blog"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col col--12 centered-content"><div class="sponsors"><a href="https://ec.europa.eu/eurostat/web/main/home" target="_blank" rel="noreferrer noopener"><img src="/Trevas/fr/img/logo_eurostat.svg" alt="Logo Eurostat" width="120px" class="sponsor"></a><a href="https://www.insee.fr" target="_blank" rel="noreferrer noopener"><img src="/Trevas/fr/img/logo_insee.png" alt="Logo Insee" width="38px" class="sponsor"></a><a href="https://www.casd.eu/" target="_blank" rel="noreferrer noopener"><img src="/Trevas/fr/img/logo_casd.svg" alt="Logo CASD" width="120px" height="auto" class="sponsor"></a><a href="http://making-sense.info/" target="_blank" rel="noreferrer noopener"><img src="/Trevas/fr/img/logo_ms.svg" alt="Logo Making Sense" width="64px" class="sponsor"></a></div></div></div></div></footer></div>
</body>
</html>