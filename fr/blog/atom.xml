<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://trevas.info/Trevas/fr/blog</id>
    <title>Trevas Blog</title>
    <updated>2024-06-25T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://trevas.info/Trevas/fr/blog"/>
    <subtitle>Trevas Blog</subtitle>
    <icon>https://trevas.info/Trevas/fr/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Trevas - SDMX]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-sdmx</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-sdmx"/>
        <updated>2024-06-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Nouveautés]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Trevas 1.4.0 introduit le module VTL SDMX.</p><p>Ce module permet de consommer des sources de métadonnées SDMX pour instancier les structures de données et les ensembles de données Trevas.</p><p>Il permet également d'exécuter les VTL TransformationSchemes pour obtenir les ensembles de données persistants résultants.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="aperçu">Aperçu<a href="#aperçu" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div style="text-align:center"><img src="/Trevas/fr/img/vtl-sdmx-light.svg" alt="Diagramme VTL SDMX" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Trevas/fr/img/vtl-sdmx-dark.svg" alt="Diagramme VTL SDMX" class="themedImage_ToTc themedImage--dark_i4oU"></div><p>Trevas prend en charge les éléments de message SDMX ci-dessus. Seul l'élément VtlMappingSchemes est facultatif.</p><p>Les éléments de la case 1 sont utilisés pour produire des Trevas DataStructures, en valorisant les attributs des composants VTL : name, role, type, nullable et valuedomain.</p><p>Les éléments de la case 2 sont utilisés pour générer le code VTL (ensembles de règles et transformations).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utilitaires-disponibles">Utilitaires disponibles<a href="#utilitaires-disponibles" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Les utilitaires de Trevas SDMX sont documentés <a href="/Trevas/fr/developer-guide/spark-mode/data-sources/sdmx">ici</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dépannage">Dépannage<a href="#dépannage" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Voir <a href="/Trevas/fr/developer-guide/spark-mode/data-sources/sdmx#dépannage">cette section</a>.</p>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas" term="Trevas"/>
        <category label="SDMX" term="SDMX"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas - Opérateurs temporels]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-temporal-operators</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-temporal-operators"/>
        <updated>2024-06-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Opérateurs temporels de Trevas]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opérateurs-temporels-de-trevas">Opérateurs temporels de Trevas<a href="#opérateurs-temporels-de-trevas" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>La version 1.4.0 de Trevas introduit un support préliminaire pour les types de date et d'heure
et les opérateurs.</p><p>La spécification décrit les types temporels tels que <code>date</code>, <code>time_period</code>, <code>time</code> et <code>duration</code>. Cependant, les auteurs de Trevas trouvent
ces descriptions peu satisfaisantes. Cet article de blog décrit nos choix de mise en œuvre et en quoi ils diffèrent des spécifications.</p><p>Dans la spécification, <code>time_period</code> (et les types <code>date</code>) est décrit comme un type composé avec un début et une fin (ou un
début et une durée). Cela complique la mise en œuvre et apporte peu de valeur au langage car on peut simplement
fonctionner directement sur une combinaison de dates ou de date et de durée. Pour cette raison, nous avons défini une algèbre entre les
types temporels et n'avons pas encore implémenté le type <code>time_period</code>.</p><table><thead><tr><th>résultat (opérateurs)</th><th>date</th><th>durée</th><th>nombre</th></tr></thead><tbody><tr><td><strong>date</strong></td><td>n/a</td><td>date (+, -)</td><td>n/a</td></tr><tr><td><strong>durée</strong></td><td>date (+, -)</td><td>durée (+, -)</td><td>durée (<!-- -->*<!-- -->)</td></tr><tr><td><strong>numéro</strong></td><td>n/a</td><td>durée (<!-- -->*<!-- -->)</td><td>n/a</td></tr></tbody></table><p>La fonction <code>period_indicator</code> s'appuie sur la connaissance des périodes pour les types qui ne sont pas suffisamment définis pour le moment pour
être implémentés.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="représentation-java">Représentation Java<a href="#représentation-java" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Le type VTL <code>date</code> est représenté en interne comme le
type <a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/Instant.html" target="_blank" rel="noopener noreferrer"><code>java.time.Instant</code></a>,
<a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/ZonedDateTime.html" target="_blank" rel="noopener noreferrer"><code>java.time.ZonedDateTime</code></a>
et <!-- -->[<code>java.time.OffsetDateTime</code>]<!-- -->(<a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/OffsetDateTime.html#" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/time/OffsetDateTime.html#</a>: ~:text=OffsetDateTime%20is%20an%20immutable%20representation,be%20stored%20in%20an%20OffsetDateTime%20.)</p><p>Instant représente un moment précis dans le temps. Notez que ce type n'inclut pas les informations de fuseau horaire et est donc
non utilisable avec tous les opérateurs. On peut utiliser les types <code>ZonedDateTime</code> et <code>OffsetDateTime</code> lorsque la sauvegarde du fuseau horaire est nécessaire.</p><p>Le type de VTL <code>durée</code> est représenté en interne comme le
type <a href="https://www.troisten.org/troisten-extra/apidocs/org.troisten.extra/org/troisten/extra/PeriodDuration.html" target="_blank" rel="noopener noreferrer"><code>org.troisten.extra.PeriodDuration</code></a>
du package <a href="https://www.troisten.org/troisten-extra/" target="_blank" rel="noopener noreferrer">threeten extra</a>.
Il représente une durée utilisant à la fois des unités calendaires (années, mois, jours) et une durée temporelle (heures, minutes, secondes et nanosecondes).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fonction-flow_to_stock">Fonction <code>flow_to_stock</code><a href="#fonction-flow_to_stock" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>flow_to_stock</code> convertit un ensemble de données avec interprétation par flux en une interprétation par stock. Cette transformation
est utile lorsque vous souhaitez agréger des données de flux (par exemple, taux de ventes ou de production) en données de stock cumulées (par exemple, inventaire total).</p><p><strong>Syntaxe:</strong></p><p><code>résultat:= flow_to_stock(op)</code></p><p><strong>Paramètres:</strong></p><ul><li><code>op</code> - L'ensemble de données d'entrée avec interprétation du flux. L'ensemble de données doit avoir un identifiant de type <code>time</code>, des identifiants additionels, et au moins une mesure de type <code>number</code>.</li></ul><p><strong>Résultat:</strong></p><p>La fonction renvoie un ensemble de données avec la même structure que celui en entrée, mais avec les valeurs converties en stock.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fonction-stock_to_flow">Fonction <code>stock_to_flow</code><a href="#fonction-stock_to_flow" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>stock_to_flow</code> convertit un ensemble de données avec interprétation de stock en une interprétation de flux. Ce
La transformation est utile lorsque vous souhaitez dériver des données de flux à partir de données de stock cumulées.</p><p><strong>Syntaxe:</strong></p><p><code>résultat:= stock_to_flow(op)</code></p><p><strong>Paramètres:</strong></p><ul><li><code>op</code> - L'ensemble de données d'entrée avec interprétation par stock. L'ensemble de données doit avoir un identifiant de type <code>time</code>, des identifiants additionels, et au moins une mesure de type <code>number</code>.</li></ul><p><strong>Résultat:</strong></p><p>La fonction renvoie un ensemble de données avec la même structure que celui en entrée, mais avec les valeurs converties en flux.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fonction-timeshift">Fonction <code>timeshift</code><a href="#fonction-timeshift" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>La fonction <code>timeshift</code> décale la composante temporelle d'une plage de temps spécifiée dans l'ensemble de données. Ceci est utile pour
analyser des données à différents décalages temporels, par exemple en comparant les valeurs actuelles aux valeurs passées.</p><p><strong>Syntaxe:</strong></p><p><code>résultat := timeshift(op, shiftNumber)</code></p><p><strong>Paramètres:</strong></p><ul><li><code>op</code> - Ensemble de données contenant des séries chronologiques.</li><li><code>shiftNumber</code> - Un entier représentant le nombre de périodes à décaler. Les valeurs positives évoluent dans le temps, tandis que
les valeurs négatives reculent.</li></ul><p><strong>Résultat:</strong></p><p>La fonction renvoie un ensemble de données avec les identifiants temporels décalés du nombre de périodes spécifiées.</p>]]></content>
        <author>
            <name>Hadrien Kohl</name>
        </author>
        <category label="Trevas" term="Trevas"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas - Java 17]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-java-17</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-java-17"/>
        <updated>2023-11-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Nouveautés]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Trevas 1.2.0 permet le support de Java 17.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-des-modules-java">Gestion des modules Java<a href="#gestion-des-modules-java" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Spark ne supporte pas les modules Java.</p><p>Les applications clientes en Java 17 embarquant Trevas doivent configurer les <code>UNNAMED</code> modules pour Spark.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="maven">Maven<a href="#maven" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Ajouter à votre fichier <code>pom.xml</code>, dans la section <code>build &gt; plugins</code> :</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">maven-compiler-plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">3.11.0</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">compilerArgs</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">--add-exports</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">java.base/sun.nio.ch=ALL-UNNAMED</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">arg</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">compilerArgs</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ENTRYPOINT </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"java"</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">"--add-exports"</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">"java.base/sun.nio.ch=ALL-UNNAMED"</span><span class="token plain">, </span><span class="token string" style="color:rgb(195, 232, 141)">"mainClass"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas" term="Trevas"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas - Assignements persistants]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-persistent-assignment</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-persistent-assignment"/>
        <updated>2023-11-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Nouveautés]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Trevas 1.2.0 inclut le support des assignements persistants : <code>ds1 &lt;- ds;</code>.</p><p>Dans Trevas, les datatsets persistants sont représentés par <code>PersistentDataset</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gérer-persistentdataset">Gérer <code>PersistentDataset</code><a href="#gérer-persistentdataset" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Les datasets Trevas sont représentés par <code>Dataset</code>.</p><p>Après avoir executé le moteur Trevas, vous pouvez utiliser les datasets persistants comme suit :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bindings engineBindings = engine.getContext().getBindings(ScriptContext.ENGINE_SCOPE);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">engineBindings.forEach((k, v) -&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (v instanceof PersistentDataset) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        fr.insee.vtl.model.Dataset ds = ((PersistentDataset) v).getDelegate();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (ds instanceof SparkDataset) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Dataset&lt;Row&gt; sparkDs = ((SparkDataset) ds).getSparkDataset();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // Do what you want with sparkDs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas" term="Trevas"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas - check_hierarchy]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-check_hierarchy</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-check_hierarchy"/>
        <updated>2023-09-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Nouveautés]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>La validation hiérarchique est implémentée dans Trevas 1.1.0, via les opérateurs <code>define hierarchical ruleset</code> et <code>check_hierarchy</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemple">Exemple<a href="#exemple" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="données-en-entrée">Données en entrée<a href="#données-en-entrée" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p><code>ds1</code>:</p><table><thead><tr><th align="center">id</th><th align="center">Me</th></tr></thead><tbody><tr><td align="center">ABC</td><td align="center">12</td></tr><tr><td align="center">A</td><td align="center">1</td></tr><tr><td align="center">B</td><td align="center">10</td></tr><tr><td align="center">C</td><td align="center">1</td></tr><tr><td align="center">DEF</td><td align="center">100</td></tr><tr><td align="center">E</td><td align="center">99</td></tr><tr><td align="center">F</td><td align="center">1</td></tr><tr><td align="center">HIJ</td><td align="center">100</td></tr><tr><td align="center">H</td><td align="center">99</td></tr><tr><td align="center">I</td><td align="center">0</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="script-vtl">Script VTL<a href="#script-vtl" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Ensure ds1 metadata definition is good</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds1 := ds1[calc identifier id := id, Me := cast(Me, integer)];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Define hierarchical ruleset</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">define hierarchical ruleset hr (variable rule Me) is</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    My_Rule : ABC = A + B + C errorcode "ABC is not sum of A,B,C" errorlevel 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DEF = D + E + F errorcode "DEF is not sum of D,E,F";</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    HIJ : HIJ = H + I - J errorcode "HIJ is not H + I - J" errorlevel 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end hierarchical ruleset;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Check hierarchy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_all := check_hierarchy(ds1, hr rule id all);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_all_measures := check_hierarchy(ds1, hr rule id always_null all_measures);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds_invalid := check_hierarchy(ds1, hr rule id always_zero invalid);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="données-en-sortie">Données en sortie<a href="#données-en-sortie" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><ul><li><code>ds_all</code></li></ul><table><thead><tr><th align="center">id</th><th align="center">ruleid</th><th align="center">bool_var</th><th align="center">errorcode</th><th align="center">errorlevel</th><th align="center">imbalance</th></tr></thead><tbody><tr><td align="center">ABC</td><td align="center">My_Rule</td><td align="center">true</td><td align="center">null</td><td align="center">null</td><td align="center">0</td></tr></tbody></table><ul><li><code>ds_always_null_all_measures</code></li></ul><table><thead><tr><th align="center">id</th><th align="center">Me</th><th align="center">ruleid</th><th align="center">bool_var</th><th align="center">errorcode</th><th align="center">errorlevel</th><th align="center">imbalance</th></tr></thead><tbody><tr><td align="center">ABC</td><td align="center">12</td><td align="center">My_Rule</td><td align="center">true</td><td align="center">null</td><td align="center">null</td><td align="center">0</td></tr><tr><td align="center">DEF</td><td align="center">100</td><td align="center">hr_2</td><td align="center">null</td><td align="center">null</td><td align="center">null</td><td align="center">null</td></tr><tr><td align="center">HIJ</td><td align="center">100</td><td align="center">HIJ</td><td align="center">null</td><td align="center">null</td><td align="center">null</td><td align="center">null</td></tr></tbody></table><ul><li><code>ds_invalid</code></li></ul><table><thead><tr><th align="center">id</th><th align="center">Me</th><th align="center">ruleid</th><th align="center">errorcode</th><th align="center">errorlevel</th><th align="center">imbalance</th></tr></thead><tbody><tr><td align="center">HIJ</td><td align="center">100</td><td align="center">HIJ</td><td align="center">HIJ is not H + I - J</td><td align="center">10</td><td align="center">1</td></tr></tbody></table>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas" term="Trevas"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas Batch 0.1.1]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-batch-0.1.1</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-batch-0.1.1"/>
        <updated>2023-07-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Trevas Batch 0.1.1 utilise la version 1.0.2 de Trevas.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/Making-Sense-Info/Trevas-Batch" target="_blank" rel="noopener noreferrer">Trevas Batch</a> <code>0.1.1</code> utilise la version <code>1.0.2</code> de <a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer">Trevas</a>.</p><p>Ce batch Java permet d'obtenir des métriques d'exécutions Trevas en mode Spark.</p><p>Le fichier de configuration à renseigner est décrit de le <a href="https://github.com/Making-Sense-Info/Trevas-Batch/tree/main#readme" target="_blank" rel="noopener noreferrer">README</a> du projet.
Le lancement du batch produiera un fichier Markdown en sortie.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lancement">Lancement<a href="#lancement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="local">Local<a href="#local" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">java </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">jar trevas</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">batch</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">0.1</span><span class="token number" style="color:rgb(247, 140, 108)">.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jar </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token class-name" style="color:rgb(255, 203, 107)">Dconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"..."</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token class-name" style="color:rgb(255, 203, 107)">Dreport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"..."</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>L'exécution java se fera en Spark local.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Des objets Kubernetes par défaut sont définis dans le dossier <a href="https://github.com/Making-Sense-Info/Trevas-Batch/tree/main/.kubernetes" target="_blank" rel="noopener noreferrer">.kubernetes</a>.</p><p>Alimenter le fichier <code>config-map.yml</code> puis lancer le job dans votre cluster.</p>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas Batch" term="Trevas Batch"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas Jupyter 0.3.2]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-jupyter-0.3.2</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-jupyter-0.3.2"/>
        <updated>2023-07-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Trevas Jupyter 0.3.2 utilise la version 1.0.2 de Trevas.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/InseeFrLab/Trevas-Jupyter" target="_blank" rel="noopener noreferrer">Trevas Jupyter</a> <code>0.3.2</code> utilise la version <code>1.0.2</code> de <a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer">Trevas</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>En supplément de la <a href="/Trevas/fr/user-guide/coverage">couverture VTL</a> largement augmentée depuis la publication de Trevas 1.x.x, Trevas Jupyter propose 1 nouveau connecteur :</p><ul><li>fichiers SAS (via la méthode <code>loadSas</code>)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lancement">Lancement<a href="#lancement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ajout-manuel-du-kernel-trevas-à-une-instance-jupyter-existante">Ajout manuel du Kernel Trevas à une instance Jupyter existante<a href="#ajout-manuel-du-kernel-trevas-à-une-instance-jupyter-existante" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><ul><li>Compiler Trevas Jupyter</li><li>Copier le fichier <code>kernel.json</code> et les dossiers <code>bin</code> et <code>repo</code> dans un nouveau dossier de kernel.</li><li>Editer le fichier <code>kernel.json</code></li><li>Lancer Jupyter</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> pull inseefrlab/trevas-jupyter:0.3.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -p </span><span class="token number" style="color:rgb(247, 140, 108)">8888</span><span class="token plain">:8888 inseefrlab/trevas-jupyter:0.3.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="helm">Helm<a href="#helm" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>L'image docker de Trevas Jupyter peut être instanciée via le contrat Helm <code>jupyter-pyspark</code> de <a href="https://github.com/InseeFrLab/helm-charts-interactive-services/tree/main" target="_blank" rel="noopener noreferrer">InseeFrLab</a>.</p>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas Jupyter" term="Trevas Jupyter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Trevas Lab 0.3.3]]></title>
        <id>https://trevas.info/Trevas/fr/blog/trevas-lab-0.3.3</id>
        <link href="https://trevas.info/Trevas/fr/blog/trevas-lab-0.3.3"/>
        <updated>2023-07-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Trevas Lab 0.3.3 utilise la version 1.0.2 de Trevas.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/InseeFrLab/Trevas-Lab" target="_blank" rel="noopener noreferrer">Trevas Lab</a> <code>0.3.3</code> utilise la version <code>1.0.2</code> de <a href="https://github.com/InseeFr/Trevas" target="_blank" rel="noopener noreferrer">Trevas</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nouveautés">Nouveautés<a href="#nouveautés" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>En supplément de la <a href="/Trevas/fr/user-guide/coverage">couverture VTL</a> largement augmentée depuis la publication de Trevas 1.x.x, Trevas Lab propose 2 nouveaux connecteurs :</p><ul><li>fichiers SAS</li><li>JDBC MariaDB</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lancement">Lancement<a href="#lancement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><p>Des exemples d'objet Kubernetes sont disponibles dans les dossiers <code>.kubernetes</code> de <a href="https://github.com/InseeFrLab/Trevas-Lab/tree/master/.kubernetes" target="_blank" rel="noopener noreferrer">Trevas Lab</a> et <a href="https://github.com/InseeFrLab/Trevas-Lab-UI/tree/master/.kubernetes" target="_blank" rel="noopener noreferrer">Trevas Lab UI</a>.</p>]]></content>
        <author>
            <name>Nicolas Laval</name>
        </author>
        <category label="Trevas Lab" term="Trevas Lab"/>
    </entry>
</feed>